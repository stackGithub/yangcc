<template>  <div class="content">    <div class="title">添加任务：</div>    <div class="add c_m_t_n">      <input type="text" placeholder="请输入您的新任务" v-model="val">      <div class="btn bg_blue c_whtie c_m_l_n" @click="add">新增</div>    </div>    <div class="tab c_m_t_n">      <template v-for="(item,i) in tab">        <div class="tab-btn c_m_r_n" :class="item.select?'bg_blue c_white':''" @click="toggleTab" :data-index="i" :key="i">{{item.name}}</div>      </template>    </div>    <div class="title c_m_t_n">任务列表：</div>    <div class="opera c_flex c_m_t_n c_item_center">      <label class="selectAll c_m_r_n" @click="toggleAll"><input type="checkbox" v-model="isSelectAll">全选</label>      <div class="btn c_m_l_n" @click="delSelect">批量删除</div>    </div>    <div class="list c_m_t_n">      <template v-for="(item,i) in list">        <div class="group c_flex c_flex_between c_item_center">          <label class="c_flex_1 c_flex c_item_center" @click="isAll">            <input type="checkbox" v-model="item.select"> {{item.name}}          </label>          <div class="del" @click="del" :data-index="i">×</div>        </div>      </template>    </div>  </div></template><script>    export default {        name: "test-1",      data(){          return {            val:'',            isSelectAll:false,            tab:[              {name:'所有任务',select:true,},              {name:'未完成任务',select:false,},              {name:'已完成任务',select:false,},            ],            list:[              {name:'吃饭',select:false,},              {name:'睡觉',select:false,},            ],          }      },      methods:{        add(){          let val = this.val;          if(!val){            this.$message("请输入");            return;          }          this.list.push({name:val,select:this.isSelectAll});        },        toggleTab(e){          let {index} = e.currentTarget.dataset;          let list = this.tab;          let res = list.map((item,i)=>{            if(i==index){              item.select = true;            }else{              item.select = false;            }            return item;          });          this.tab = res;        },        delSelect(){          let list = this.list;          let res = list.filter(item=>!item.select);          this.list = res;        },        del(e){          let {index} = e.currentTarget.dataset;          let list = this.list;          list.splice(index,1);          this.list = list;        },        isAll(){          let that = this;          setTimeout(()=>{            let res = that.list.every(item=>item.select);            if(res)that.isSelectAll = res;          },200)        },        toggleAll(){          let that = this;          this.$nextTick(()=>{            let isAll = that.isSelectAll;            let res = that.list.map(item=>{              item.select = !isAll?true:false;              return item;            })            that.list = res;          })        },      },      watch:{      }    }</script><style scoped>.content{  width: 100%;  height: 100%;  background: #ccc;  padding: 50px;  box-sizing: border-box;}  .btn{    display: inline-block;    box-sizing: border-box;    padding: 5px 15px;    background: #2d8cff;    color: #fff;  }.tab-btn{  display: inline-block;  box-sizing: border-box;  padding: 5px 15px;}  .list{    width: 300px;  }  .group{    padding: 20px 0;    border-bottom: 2px solid #fff;  }</style>